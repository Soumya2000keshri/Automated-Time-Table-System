<!-- Button for setting timetable -->

<div id="timetableContainer">
    <h2>Timetable Settings</h2>
    <form id="timetableForm">

        <label for="semester">Select Semester:</label>
        <select id="semester" onchange="updateBlockOptions()">
            <option value="" selected disabled>Select Semester</option>
            <option value="1">Semester 1</option>
            <option value="2">Semester 2</option>
            <!-- Add other semester options -->
        </select>

        <div id="blockSection" style=";>
            <label for="block">Select Block:</label>
            <select id="block" onchange="updateClassOptions()">
                <!-- Block options will be dynamically updated -->
            </select>
        </div>

        <label for="class">Select Room No:</label>
        <select id="class">
            <!-- Class options will be dynamically updated -->
        </select>

        <label for="subject">Select Subject:</label>
        <select id="subject" onchange="updateCredit()">
            <option value="sub1" data-credit="3">Physics</option>
            <option value="sub2" data-credit="4">Discrete Mathematics</option>
            <option value="sub3" data-credit="3">C-language</option>
            <option value="sub4" data-credit="3">Python</option>
        </select>

        <div id="creditDisplay">Credit: 0</div>

        <br>
        <h3>Timetable:</h3>
        <!-- Your timetable table goes here -->

        <button type="button" onclick="saveTimetable()">Save Timetable</button>
        <button type="button" onclick="downloadTimetable()">Download Timetable</button>
    </form>
</div>

<script>
    // Existing functions...

    function updateCredit() {
        var selectedSubject = document.getElementById('subject');
        var creditDisplay = document.getElementById('creditDisplay');

        var selectedCredit = selectedSubject.options[selectedSubject.selectedIndex].getAttribute('data-credit');
        creditDisplay.textContent = 'Credit: ' + selectedCredit;
    }

    function updateBlockOptions() {
        var selectedSemester = document.getElementById('semester').value;
        var blockSection = document.getElementById('blockSection');

        // Clear existing options
        var blockSelect = document.getElementById('block');
        blockSelect.innerHTML = '';

        if (selectedSemester !== "") {
            // Show the block section
            blockSection.style.display = 'block';

            // Add new options based on the selected semester
            // You may want to fetch this dynamically from a database or another source
            if (selectedSemester === '1') {
                addOption(blockSelect, 'block1', 'Block 1');
                addOption(blockSelect, 'block2', 'Block 2');
                // Add other blocks as needed
            } else if (selectedSemester === '2') {
                // Add options for Semester 2
            }
            // Add more conditions as needed
        } else {
            // Hide the block section if no semester is selected
            blockSection.style.display = 'none';
        }
    }

    // ... Rest of your functions
</script>
